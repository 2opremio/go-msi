{
  "name": "Go-msi",
  "tagline": "Easy way to generate msi package for a Go project",
  "body": "# go-msi\r\n\r\nEasy way to generate msi package for a Go project.\r\n\r\nThis tool is part of the [go-github-release workflow](https://github.com/mh-cbon/go-github-release)\r\n\r\n# Install\r\n\r\nPick an msi package [here](https://github.com/mh-cbon/go-msi/releases) !\r\n\r\n__chocolatey__\r\n\r\n```sh\r\nchoco install go-msi\r\n```\r\n\r\n__deb/ubuntu/rpm source repositories__\r\n\r\n```sh\r\nwget -O - https://raw.githubusercontent.com/mh-cbon/latest/master/source.sh \\\r\n| GH=mh-cbon/go-msi sh -xe\r\n# or\r\ncurl -L https://raw.githubusercontent.com/mh-cbon/latest/master/source.sh \\\r\n| GH=mh-cbon/go-msi sh -xe\r\n```\r\n\r\n__deb/ubuntu/rpm__\r\n\r\n```sh\r\ncurl -L https://raw.githubusercontent.com/mh-cbon/latest/master/install.sh \\\r\n| GH=mh-cbon/go-msi sh -xe\r\n# or\r\nwget -q -O - --no-check-certificate \\\r\nhttps://raw.githubusercontent.com/mh-cbon/latest/master/install.sh \\\r\n| GH=mh-cbon/go-msi sh -xe\r\n```\r\n\r\n__go__\r\n```sh\r\nmkdir -p $GOPATH/src/github.com/mh-cbon\r\ncd $GOPATH/src/github.com/mh-cbon\r\ngit clone https://github.com/mh-cbon/go-msi.git\r\ncd go-msi\r\nglide install\r\ngo install\r\n```\r\n\r\n# Requirements\r\n\r\n- A windows machine (see [here](https://github.com/mh-cbon/go-msi/blob/master/appveyor-recipe.md) for an appveyor file, see [here](https://github.com/mh-cbon/go-msi/blob/master/unice-recipe.md) for unix friendly users)\r\n- wix >= 3.10 (may work on older release, but it is untested, feel free to report)\r\n- you must add wix bin to your PATH\r\n\r\n# Workflow\r\n\r\nFor simple cases,\r\n\r\n- Create a `wix.json` file like [this one](https://github.com/mh-cbon/go-msi/blob/master/wix.json)\r\n- Apply it guids with `go-msi set-guid`, you must do it once only for each app.\r\n- Run `go-msi make --msi your_program.msi --version 0.0.2`\r\n\r\n### wix.json\r\n\r\n`wix.json` file describe the desired packaging rules between your sources and the resulting msi file.\r\n\r\nPost an issue if it is not self-explanatory.\r\n\r\nAlways double check the documentation and SO when you face a difficulty with `heat`, `candle`, `light`\r\n\r\n- http://wixtoolset.org/documentation/\r\n- http://stackoverflow.com/questions/tagged/wix\r\n\r\nIf you wonder why `INSTALLDIR`, `[INSTALLDIR]`, this is part of wix rules, please check their documentation.\r\n\r\n### wix templates\r\n\r\nFor simplicity a default install flow is provided, which you can find [here](https://github.com/mh-cbon/go-msi/tree/master/templates)\r\n\r\nYou can create a new one for your own personalization,\r\nyou should only take care to reproduce the go templating already\r\ndefined for `files`, `directories`, `environment variables`, `license` and `shortcuts`.\r\n\r\nI guess most of your changes will be about the `WixUI_HK.wxs` file.\r\n\r\n### License file\r\n\r\nTake care to the license file, it must be an `rtf` file, it must be encoded with `Windows1252` charset.\r\n\r\nI have provided some tools to help with that matter.\r\n\r\n# Usage\r\n\r\n```sh\r\nNAME:\r\n   go-msi - Easy msi pakage for Go\r\n\r\nUSAGE:\r\n   go-msi <cmd> <options>\r\n\r\nVERSION:\r\n   0.0.1\r\n\r\nCOMMANDS:\r\n     check-json           Check the JSON wix manifest\r\n     set-guid             Sets appropriate guids in your wix manifest\r\n     generate-templates   Generate wix templates\r\n     to-windows           Write Windows1252 encoded file\r\n     to-rtf               Write RTF formatted file\r\n     gen-wix-cmd          Generate a batch file of Wix commands to run\r\n     run-wix-cmd          Run the batch file of Wix commands\r\n     make                 All-in-one command to make MSI files\r\n\r\nGLOBAL OPTIONS:\r\n   --help, -h\t\tshow help\r\n   --version, -v\tprint the version\r\n```\r\n\r\n### check-json\r\n\r\n```sh\r\nNAME:\r\n   go-msi check-json - Check the JSON wix manifest\r\n\r\nUSAGE:\r\n   go-msi check-json [command options] [arguments...]\r\n\r\nOPTIONS:\r\n   --path value, -p value\tPath to the wix manifest file (default: \"wix.json\")\r\n```\r\n\r\n### set-guid\r\n\r\n```sh\r\nNAME:\r\n   go-msi set-guid - Sets appropriate guids in your wix manifest\r\n\r\nUSAGE:\r\n   go-msi set-guid [command options] [arguments...]\r\n\r\nOPTIONS:\r\n   --path value, -p value\tPath to the wix manifest file (default: \"wix.json\")\r\n```\r\n\r\n### generate-templates\r\n\r\n```sh\r\nNAME:\r\n   go-msi generate-templates - Generate wix templates\r\n\r\nUSAGE:\r\n   go-msi generate-templates [command options] [arguments...]\r\n\r\nOPTIONS:\r\n   --path value, -p value     Path to the wix manifest file (default: \"wix.json\")\r\n   --src value, -s value      Directory path to the wix templates files (default: \"go-msi/templates\")\r\n   --out value, -o value      Directory path to the generated wix templates files (default: \"builder\")\r\n   --version value            The version of your program\r\n   --license value, -l value  Path to the license file\r\n```\r\n\r\n### to-windows\r\n\r\n```sh\r\nNAME:\r\n   go-msi to-windows - Write Windows1252 encoded file\r\n\r\nUSAGE:\r\n   go-msi to-windows [command options] [arguments...]\r\n\r\nOPTIONS:\r\n   --src value, -s value  Path to an UTF-8 encoded file\r\n   --out value, -o value  Path to the ANSI generated file\r\n```\r\n\r\n### to-rtf\r\n\r\n```sh\r\nNAME:\r\n   go-msi to-rtf - Write RTF formatted file\r\n\r\nUSAGE:\r\n   go-msi to-rtf [command options] [arguments...]\r\n\r\nOPTIONS:\r\n   --src value, -s value   Path to a text file\r\n   --out value, -o value   Path to the RTF generated file\r\n   --reencode, -e          Also re encode UTF-8 to Windows1252 charset\r\n```\r\n\r\n### gen-wix-cmd\r\n\r\n```sh\r\nNAME:\r\n   go-msi gen-wix-cmd - Generate a batch file of Wix commands to run\r\n\r\nUSAGE:\r\n   go-msi gen-wix-cmd [command options] [arguments...]\r\n\r\nOPTIONS:\r\n   --path value, -p value  Path to the wix manifest file (default: \"wix.json\")\r\n   --src value, -s value   Directory path to the wix templates files (default: \"go-msi/templates\")\r\n   --out value, -o value   Directory path to the generated wix cmd file (default: \"builder\")\r\n   --arch value, -a value  A target architecture , amd64 or 386 (ia64 is not handled)\r\n   --msi value, -m value   Path to write resulting msi file to\r\n```\r\n\r\n### run-wix-cmd\r\n\r\n```sh\r\nNAME:\r\n   go-msi run-wix-cmd - Run the batch file of Wix commands\r\n\r\nUSAGE:\r\n   go-msi run-wix-cmd [command options] [arguments...]\r\n\r\nOPTIONS:\r\n   --out value, -o value\tDirectory path to the generated wix cmd file (default: \"builder\")\r\n```\r\n\r\n### make\r\n\r\n```sh\r\nNAME:\r\n   go-msi make - All-in-one command to make MSI files\r\n\r\nUSAGE:\r\n   go-msi make [command options] [arguments...]\r\n\r\nOPTIONS:\r\n   --path value, -p value       Path to the wix manifest file (default: \"wix.json\")\r\n   --src value, -s value        Directory path to the wix templates files (default: \"go-msi/templates\")\r\n   --out value, -o value        Directory path to the generated wix cmd file (default: \"builder\")\r\n   --arch value, -a value\t      A target architecture , amd64 or 386 (ia64 is not handled)\r\n   --msi value, -m value        Path to write resulting msi file to\r\n   --version value              The version of your program\r\n   --license value, -l value    Path to the license file\r\n```\r\n\r\n### choco\r\n\r\n```sh\r\nNAME:\r\n   go-msi choco - Generate a chocolatey package of your msi files\r\n\r\nUSAGE:\r\n   go-msi choco [command options] [arguments...]\r\n\r\nOPTIONS:\r\n   --path value, -p value     Path to the wix manifest file (default: \"wix.json\")\r\n   --src value, -s value      Directory path to the wix templates files (default: \"go-msi/templates\")\r\n   --version value            The version of your program\r\n   --out value, -o value      Directory path to the generated chocolatey build file (default: \"builder\")\r\n   --input value, -i value    Path to the msi file to package into the chocolatey package\r\n   --keep, -k                 Keep output directory containing build files (useful for debug)\r\n   --changelog-cmd, -c value  A command to generate the content of the changelog.\r\n```\r\n\r\n# Credits\r\n\r\nA big big thanks to\r\n\r\n- `Helge Klein`, which i do not know personally, but made this project possible by sharing a real world example at\r\nhttps://helgeklein.com/blog/2014/09/real-world-example-wix-msi-application-installer/\r\n- all SO contributors on `wix` tag.\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}